<!DOCTYPE html>
<html>
  <head>
    <title>クレセント連邦入国審査</title>
    <meta charset="utf-8">
    <style>
      #loading {
  width: 100vw;
  height: 100vh;
  transition: all 1s;
  background-color: #fff;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
}
      .loaded {
  opacity: 0;
  visibility: hidden;
}
      </style>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"   integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="   crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="loading">
      <h3>あなたはクレセント連邦のDiscordに入っていますか？</h3>
      <h3>そしてThe World MCのDiscordに入り、ルールに同意しましたか？</h3>
    <button onclick="yes()">はい</button><button onclick="no()">いいえ</button>
          <script>
      function yes() {
  const spinner = document.getElementById('loading');
  spinner.classList.add('loaded');
}
      function no() {
  alert("まずはdiscordサーバーに入ってください。")
  location.replace("https://keikun1215.github.io/crescentunion")
}
      </script>
    </div>
    <h1> 入国審査アンケート </h1>
    <h3> Discordの名前を教えてください。 </h3>
    <input type="text" placeholder="例:example#0000 example sub#1111" id="dtag" maxlength="30" required></input>
    <h3> ゲーマータグを教えてください。 </h3>
    <input type="text" placeholder="例:BE:example145 JE:example454" id="gtag" maxlength="30" required></input>
　  <h3> 年代を教えてください。 </h3>
    <input type="radio" name="nen" value="12歳以下"> 12歳以下
    <input type="radio" name="nen" value="15歳以下"> 15歳以下
    <input type="radio" name="nen" value="18歳以下"> 18歳以下
    <input type="radio" name="nen" value="19歳以上"> 19歳以上
<h3> 参加頻度を教えてください。 </h3>
    <input type="radio" name="hin" value="月に一回"> 月に一回
    <input type="radio" name="hin" value="二週間に一回"> 2週間に一回
    <input type="radio" name="hin" value="毎週"> 毎週
    <input type="radio" name="hin" value="2,3日に一回"> 2,3日に一回
    <input type="radio" name="hin" value="それ以上"> それ以上
<h3> クレセント連邦に入ってしたい事を教えてください。 <small>必ず出来るとは限りません。</small></h3>
    <input type="radio" name="sitai" value="作業"> 作業
    <input type="radio" name="sitai" value="外交"> 外交
    <input type="radio" name="sitai" value="国民対応"> 国民対応
<h3>どこでここを知りましたか？</h3>
<input type="text" placeholder="例:友達からの紹介" id="whyknow" maxlength="30" required></input>
<h3>どうしてこの国に入ろうと思いましたか？</h3>
<input type="text" placeholder="例:友達からとても勧められたから" id="reason" maxlength="30" required></input>
<h3>あなたはどのようにクレセント連邦に貢献できますか？</h3>
<input type="text" placeholder="例:PvPが得意です。" id="apeel" maxlength="50" required></input>
<button id="btn" onclick="a()">送信</button>
<script>
    function a() {
          var btn = document.getElementById("btn")
  var dtag = document.getElementById("dtag").value
  var gtag = document.getElementById("gtag").value
  var whyknow = document.getElementById("whyknow").value
  var reason = document.getElementById("reason").value
  var apeel = document.getElementById("apeel").value
  var nendai = document.getElementsByName('nen');
let len = nendai.length;
let nendaii = '';
for (let i = 0; i < len; i++){
    if (nendai.item(i).checked){
        nendaii = nendai.item(i).value;
    }
}
  let hindoo = document.getElementsByName('hin');
let lon = hindoo.length;
let hindo = '';

for (let i = 0; i < lon; i++){
    if (hindoo.item(i).checked){
        hindo = hindoo.item(i).value;
    }
}
      let sitaii = document.getElementsByName('sitai');
let lin = sitaii.length;
let sitai;

for (let i = 0; i < lin; i++){
    if (sitaii.item(i).checked){
        sitai = sitaii.item(i).value;
    }
}

        $.get("https://ipinfo.io", function(res) {
 
axios.post("https://discord.com/api/webhooks/953197079956688946/IoX-VqMtEC3tHeNPbFtI57-hCsRz-oZ_MC0cWq1c2nNoGMB7KvGh9QBdTPaxDdViiynm", {
    username: "結果",
    content: "IPアドレス（連投防止）:\`"+res.ip+"`\ndiscordの名前:"+dtag+"\nマイクラのゲーマータグ:"+gtag+"\n年代:"+nendaii+"\n参加頻度:"+hindo+"\nどうやって知ったか:"+whyknow+`\nどうして入ろうと思ったか:${reason}\n入ったらしたい事:${sitai}\nどう貢献できるか:${apeel}`,
    allowed_mentions: {
    parse:[]
   }
  },{headers: {
        'Accept': 'application/json',
        'Content-type': 'application/json',
    }})
  .then(response => {
     console.log(JSON.stringify(response.data));
  })
  .catch(error => {
    console.error(error);
  })
  .finally(() => {
    // skip
  });
            axios.post("https://discord.com/api/webhooks/952902109106417694/ejOz6aB5m4SY4qlM3nbCLLl1gfSEkMyljAFIho_34jRDTT-IAo1_DyCqBlAGi36vEHxd", {
    username: "結果",
    content: "discordの名前:"+dtag+"\nマイクラのゲーマータグ:"+gtag+"\n年代:"+nendaii+"\n参加頻度:"+hindo+"\nどうやって知ったか:"+whyknow+`\nどうして入ろうと思ったか:${reason}\n入ったらしたい事:${sitai}\nどう貢献できるか:${apeel}** **`,
    allowed_mentions: {
    parse:[]
   }
  },{headers: {
        'Accept': 'application/json',
        'Content-type': 'application/json',
    }})
  .then(response => {
     console.log(JSON.stringify(response.data));
  })
  .catch(error => {
    console.error(error);
  })
  .finally(() => {
    // skip
  });
 
}, "jsonp");
        btn.disabled = true;
        }

    
  </script>
  </body>
</html>
